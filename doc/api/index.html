<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="generator" content="made with love by dartdoc 0.18.1">
  <meta name="description" content="flame API docs, for the Dart programming language.">
  <title>flame - Dart API docs</title>

  <link href="https://fonts.googleapis.com/css?family=Source+Code+Pro:500,400i,400,300|Source+Sans+Pro:400,300,700" rel="stylesheet">
  <link rel="stylesheet" href="static-assets/github.css">
  <link rel="stylesheet" href="static-assets/styles.css">
  <link rel="icon" href="static-assets/favicon.png">

</head>

<body>

<div id="overlay-under-drawer"></div>

<header id="title">
  <ol class="breadcrumbs gt-separated dark hidden-xs">
    <li><a href="https://github.com/luanpotter/flame">flame package</a></li>
  </ol>
  <div class="self-name">flame</div>
  <form class="search navbar-right" role="search">
    <input type="text" id="search-box" autocomplete="off" disabled class="form-control typeahead" placeholder="Loading search...">
  </form>
</header>

<main>

  <div class="col-xs-6 col-sm-3 col-md-2 sidebar sidebar-offcanvas-left">
    <h5><span class="package-name">flame</span> <span class="package-kind">package</span></h5>
    <ol>
          <li class="section-title">Libraries</li>
          <li><a href="animation/animation-library.html">animation</a></li>
          <li><a href="components_animation_component/components_animation_component-library.html">animation_component</a></li>
          <li><a href="audio/audio-library.html">audio</a></li>
          <li><a href="box2d_box2d_component/box2d_box2d_component-library.html">box2d_component</a></li>
          <li><a href="components_component/components_component-library.html">component</a></li>
          <li><a href="flame/flame-library.html">flame</a></li>
          <li><a href="game/game-library.html">game</a></li>
          <li><a href="images/images-library.html">images</a></li>
          <li><a href="components_parallax_component/components_parallax_component-library.html">parallax_component</a></li>
          <li><a href="position/position-library.html">position</a></li>
          <li><a href="sprite/sprite-library.html">sprite</a></li>
          <li><a href="util/util-library.html">util</a></li>
          <li><a href="box2d_viewport/box2d_viewport-library.html">viewport</a></li>
          <li class="section-title">Dart</li>
          <li><a href="dart-async/dart-async-library.html">dart:async</a></li>
          <li><a href="dart-collection/dart-collection-library.html">dart:collection</a></li>
          <li><a href="dart-convert/dart-convert-library.html">dart:convert</a></li>
          <li><a href="dart-core/dart-core-library.html">dart:core</a></li>
          <li><a href="dart-developer/dart-developer-library.html">dart:developer</a></li>
          <li><a href="dart-math/dart-math-library.html">dart:math</a></li>
          <li><a href="dart-typed_data/dart-typed_data-library.html">dart:typed_data</a></li>
          <li><a href="dart-ui/dart-ui-library.html">dart:ui</a></li>
          <li class="section-subtitle">VM</li>
            <li class="section-subitem"><a href="dart-io/dart-io-library.html">dart:io</a></li>
            <li class="section-subitem"><a href="dart-isolate/dart-isolate-library.html">dart:isolate</a></li>
    </ol>
  </div>

  <div class="col-xs-12 col-sm-9 col-md-8 main-content">
      <section class="desc markdown">
        <h1>:fire: flame</h1>
<p>A minimalist Flutter game engine.</p>
<p>Any help is appreciated! Comment, suggestions, issues, PR's! Give us a star to help!</p>
<h2>Goals</h2>
<p>The goal of this project is to provided a complete set of out-of-the-way solutions for the common problems every game developed in Flutter will share.</p>
<p>Currently it provides you with: a few utilities, images/sprites/sprite sheets, audio, a game loop and a component/object system.</p>
<p>You can use whatever ones you want, as they are all somewhat independent.</p>
<h2>Usage</h2>
<p>Just drop it in your <code>pubspec.yaml</code>:</p>
<pre class="language-yaml"><code class="language-yaml">dependencies:
  flame: ^0.8.4
</code></pre>
<p>And start using it!</p>
<p>The complete documentation can be found <a href="doc/README.md">here</a>.</p>
<p>Bellow is an overview that should suffice to build a simple game, and work your way up from there.</p>
<p>The <a href="https://github.com/luanpotter/flame-example/tree/0.8.x">flame-example</a> game has been updated to use the newer APIs (0.8.2) on a new branch.</p>
<p>There is a very good QuickStart tutorial for version <code>0.6.1</code> <a href="https://medium.com/@luanpotter27/a-comprehensive-flame-tutorial-or-how-to-make-games-with-flutter-74f22c4ecbfa">here</a>. The API has changed a lot, so refer this documentation for updated information. Soon I plan to release an updated tutorial.</p>
<h2>Structure</h2>
<p>The only structure you are required to comply is a assets folder with two sub folders: audio and images.</p>
<p>An example:</p>
<pre class="language-dart"><code class="language-dart">  Flame.audio.play('explosion.mp3');

  Flame.images.load('player.png');
  Flame.images.load('enemy.png');
</code></pre>
<p>The file structure would have to be:</p>
<pre class="language-dart"><code>.
└── assets
    ├── audio
    │   └── explosion.mp3
    └── images
        ├── enemy.png
        └── player.png
</code></pre>
<p>Don't forget to add these files to your <code>pubspec.yaml</code> file:</p>
<pre class="language-dart"><code>flutter:
  assets:
    - assets/audio/explosion.mp3
    - assets/images/player.png
    - assets/images/enemy.png
</code></pre>
<h2>Modules</h2>
<p>The modular approach allows you to use any of these modules independently, or together, or as you wish.</p>
<h3>Audio</h3>
<p>To play an audio, just use the <code>Flame.audio.play</code> method:</p>
<pre class="language-dart"><code class="language-dart">    import 'package:flame/flame.dart';

    Flame.audio.play('explosion.mp3');
</code></pre>
<p>You can pre-load your audios in the beginning and avoid delays with the <code>loadAll</code> method:</p>
<pre class="language-dart"><code class="language-dart">    // in a async prepare function for your game
    await Flame.audio.loadAll(['explosion.mp3']);
</code></pre>
<p><a href="doc/audio.md">Complete Audio Guide</a></p>
<h3>Images</h3>
<p>If you are using the Component module and doing something simple, you probably won't need to use these classes; use <code>SpriteComponent</code> or <code>AnimationComponent</code> instead.</p>
<p>If you want to load an image and render it on the <code>Canvas</code>, you can use the <code>Sprite</code> class:</p>
<pre class="language-dart"><code class="language-dart">    import 'package:flame/sprite.dart';

    Sprite sprite = new Sprite('player.png');

    // in your render loop
    sprite.render(canvas, width, height);
</code></pre>
<p>Note that the render method will do nothing while the image has not been loaded; you can check for completion using the <code>loaded</code> method.</p>
<p><a href="doc/images.md">Complete Images Guide</a></p>
<h3>Component</h3>
<p>This class represent a single object on the screen, being a floating rectangle or a rotating sprite.</p>
<p>The base abstract class has the common expected methods update and render to be implemented.</p>
<p>The intermediate inheritance <code>PositionComponent</code> adds <code>x</code>, <code>y</code>, <code>width</code>, <code>height</code> and <code>angle</code> to your Components, as well as some useful methods like distance and angleBetween.</p>
<p>The most commonly used implementation, <code>SpriteComponent</code>, can be created with a <code>Sprite</code>:</p>
<pre class="language-dart"><code class="language-dart">    import 'package:flame/component.dart';

    Sprite sprite = new Sprite('player.png');

    const size = 128.0;
    var player = new SpriteComponent.fromSprite(size, size, sprite); // width, height, sprite
    
    // screen coordinates
    player.x = ... // 0 by default
    player.y = ... // 0 by default
    player.angle = ... // 0 by default
    
    player.render(canvas); // it will render only if the image is loaded and the x, y, width and height parameters are not null
</code></pre>
<p>Every <code>Component</code> has a few other methods that you can optionally implement, that are used by the <code>BaseGame</code> class. If you are not using the base game, you can alternatively use these methods on your own game loop.</p>
<p>The <code>resize</code> method is called whenever the screen is resized, and in the beginning once when the component is added via the <code>add</code> method. You need to apply here any changes to the x, y, width and height of your component, or any other changes, due to the screen resizing. You can start these variables here, as the sprite won't be rendered until everything is set.</p>
<p>The <code>destroy</code> method can be implemented to return true and warn the <code>BaseGame</code> that your object is marked for destruction, and it will be remove after the current update loop. It will then no longer be rendered or updated.</p>
<p>The <code>isHUD</code> method can be implemented to return true (default false) to make the <code>BaseGame</code> ignore the <code>camera</code> for this element.</p>
<p>There are also other implementations:</p><ul><li>The <code>AnimationComponent</code> takes an <code>Animation</code> object and renders a cyclic animated sprite (more details about Animations <a href="doc/images.md#Animation">here</a>)</li><li>The <code>ParallaxComponent</code> can render a parallax background with several frames</li><li>The <code>Box2DComponent</code>, that has a physics engine built-in (using the <a href="https://github.com/google/box2d.dart">Box2D</a> port for Dart)</li></ul>
<p><a href="doc/components.md">Complete Components Guide</a></p>
<h3>Game Loop</h3>
<p>The Game Loop module is a simple abstraction over the game loop concept. Basically most games are built upon two methods: </p><ul><li>The render method takes the canvas ready for drawing the current state of the game.</li><li>The update method receives the delta time in milliseconds since last update and allows you to move the next state.</li></ul>
<p>The class <code>Game</code> can be subclassed and will provide both these methods for you to implement. In return it will provide you with a <code>widget</code> property that returns the game widget, that can be rendered in your app.</p>
<p>You can either render it directly in your <code>runApp</code>, or you can have a bigger structure, with routing, other screens and menus for your game.</p>
<p>To start, just add your game widget directly to your runApp, like so:</p>
<pre class="language-dart"><code class="language-dart">    main() {
        Game game = new MyGameImpl();
        runApp(game.widget);
    }
</code></pre>
<p>Instead of implementing the low level <code>Game</code> class, you should probably use the more full-featured <code>BaseGame</code> class.</p>
<p>The <code>BaseGame</code> implements a <code>Component</code> based <code>Game</code> for you; basically it has a list of <code>Component</code>s and repasses the <code>update</code> and <code>render</code> calls appropriately. You can still extend those methods to add custom behavior, and you will get a few other features for free, like the repassing of <code>resize</code> methods (every time the screen is resized the information will be passed to the resize methods of all your components) and also a basic camera feature (that will translate all your non-HUD components in order to center in the camera you specified).</p>
<p>A very simple <code>BaseGame</code> implementation example can be seen below:</p>
<pre class="language-dart"><code class="language-dart">    class MyCrate extends SpriteComponent {

        // creates a component that renders the crate.png sprite, with size 16 x 16
        MyCrate() : SpriteComponent.fromSprite(16.0, 16.0, new Sprite('crate.png'));

        @override
        void resize(Size size) {
            // we don't need to set the x and y in the constructor, we can set then here
            this.x = (size.width - this.width)/ 2;
            this.y = (size.height - this.height) / 2;
        }
    }

    class MyGame extends BaseGame {
        MyGame() {
            add(new MyCrate()); // this will call resize the first time as well
        }
    }
</code></pre>
<h3>Input</h3>
<p>In order to handle user input, you can use the libraries provided by Flutter for regular apps: <a href="https://flutter.io/gestures/">Gesture Recognizers</a>.</p>
<p>However, in order to bind them, use the <code>Flame.util.addGestureRecognizer</code> method; in doing so, you'll make sure they are properly unbound when the game widget is not being rendered, and so the rest of your screens will work appropriately.</p>
<p>For example, to add a tap listener ("on click"):</p>
<pre class="language-dart"><code class="language-dart">    Flame.util.addGestureRecognizer(new TapGestureRecognizer()
        ..onTapDown = (TapDownDetails evt) =&gt; game.handleInput(evt.globalPosition.dx, evt.globalPosition.dy));
</code></pre>
<p>Where <code>game</code> is a reference to your game object and <code>handleInput</code> is a method you create to handle the input inside your game.</p>
<p>If your game doesn't have other screens, just call this after your <code>runApp</code> call, in the <code>main</code> method.</p>
<p><a href="doc/input.md">Complete Input Guide</a></p>
<h2>Credits</h2><ul><li>All the friendly contributors and people who are helping in the community.</li><li>My own <a href="https://github.com/luanpotter/audioplayer">audioplayers</a> lib, which in turn is forked from <a href="https://github.com/rxlabz/audioplayer">rxlabz's</a>.</li><li>The Dart port of <a href="https://github.com/google/box2d.dart">Box2D</a>.</li><li><a href="https://www.reddit.com/r/dartlang/comments/69luui/minimal_flutter_game_loop/">inu-no-policemen's post on reddit</a>, which helped me a lot with the basics</li><li>Everyone who answered my beginner's questions on Stack Overflow</li></ul>
      </section>
      
        <section class="summary">
            <h2>Libraries</h2>
          <dl>
            <dt id="animation">
              <span class="name"><a href="animation/animation-library.html">animation</a></span>
            </dt>
            <dd>
              
            </dd>            <dt id="animation_component">
              <span class="name"><a href="components_animation_component/components_animation_component-library.html">animation_component</a></span>
            </dt>
            <dd>
              
            </dd>            <dt id="audio">
              <span class="name"><a href="audio/audio-library.html">audio</a></span>
            </dt>
            <dd>
              
            </dd>            <dt id="box2d_component">
              <span class="name"><a href="box2d_box2d_component/box2d_box2d_component-library.html">box2d_component</a></span>
            </dt>
            <dd>
              
            </dd>            <dt id="component">
              <span class="name"><a href="components_component/components_component-library.html">component</a></span>
            </dt>
            <dd>
              
            </dd>            <dt id="flame">
              <span class="name"><a href="flame/flame-library.html">flame</a></span>
            </dt>
            <dd>
              
            </dd>            <dt id="game">
              <span class="name"><a href="game/game-library.html">game</a></span>
            </dt>
            <dd>
              
            </dd>            <dt id="images">
              <span class="name"><a href="images/images-library.html">images</a></span>
            </dt>
            <dd>
              
            </dd>            <dt id="parallax_component">
              <span class="name"><a href="components_parallax_component/components_parallax_component-library.html">parallax_component</a></span>
            </dt>
            <dd>
              
            </dd>            <dt id="position">
              <span class="name"><a href="position/position-library.html">position</a></span>
            </dt>
            <dd>
              
            </dd>            <dt id="sprite">
              <span class="name"><a href="sprite/sprite-library.html">sprite</a></span>
            </dt>
            <dd>
              
            </dd>            <dt id="util">
              <span class="name"><a href="util/util-library.html">util</a></span>
            </dt>
            <dd>
              
            </dd>            <dt id="viewport">
              <span class="name"><a href="box2d_viewport/box2d_viewport-library.html">viewport</a></span>
            </dt>
            <dd>
              
            </dd>          </dl>
        </section>
        <section class="summary">
            <h2>Dart</h2>
          <dl>
            <dt id="dart:async">
              <span class="name"><a href="dart-async/dart-async-library.html">dart:async</a></span>
            </dt>
            <dd>
              Support for asynchronous programming,
with classes such as Future and Stream. <a href="dart-async/dart-async-library.html">[...]</a>
            </dd>            <dt id="dart:collection">
              <span class="name"><a href="dart-collection/dart-collection-library.html">dart:collection</a></span>
            </dt>
            <dd>
              Classes and utilities that supplement the collection support in dart:core. <a href="dart-collection/dart-collection-library.html">[...]</a>
            </dd>            <dt id="dart:convert">
              <span class="name"><a href="dart-convert/dart-convert-library.html">dart:convert</a></span>
            </dt>
            <dd>
              Encoders and decoders for converting between different data representations,
including JSON and UTF-8. <a href="dart-convert/dart-convert-library.html">[...]</a>
            </dd>            <dt id="dart:core">
              <span class="name"><a href="dart-core/dart-core-library.html">dart:core</a></span>
            </dt>
            <dd>
              Built-in types, collections,
and other core functionality for every Dart program. <a href="dart-core/dart-core-library.html">[...]</a>
            </dd>            <dt id="dart:developer">
              <span class="name"><a href="dart-developer/dart-developer-library.html">dart:developer</a></span>
            </dt>
            <dd>
              Interact with developer tools such as the debugger and inspector. <a href="dart-developer/dart-developer-library.html">[...]</a>
            </dd>            <dt id="dart:math">
              <span class="name"><a href="dart-math/dart-math-library.html">dart:math</a></span>
            </dt>
            <dd>
              Mathematical constants and functions, plus a random number generator. <a href="dart-math/dart-math-library.html">[...]</a>
            </dd>            <dt id="dart:typed_data">
              <span class="name"><a href="dart-typed_data/dart-typed_data-library.html">dart:typed_data</a></span>
            </dt>
            <dd>
              Lists that efficiently handle fixed sized data
(for example, unsigned 8 byte integers) and SIMD numeric types. <a href="dart-typed_data/dart-typed_data-library.html">[...]</a>
            </dd>            <dt id="dart:ui">
              <span class="name"><a href="dart-ui/dart-ui-library.html">dart:ui</a></span>
            </dt>
            <dd>
              Built-in types and core primitives for a Flutter application. <a href="dart-ui/dart-ui-library.html">[...]</a>
            </dd>            <h3>VM</h3>
              <dt id="dart:io">
                <span class="name"><a href="dart-io/dart-io-library.html">dart:io</a></span>
              </dt>
              <dd>
                File, socket, HTTP, and other I/O support for non-web applications. <a href="dart-io/dart-io-library.html">[...]</a>
              </dd>              <dt id="dart:isolate">
                <span class="name"><a href="dart-isolate/dart-isolate-library.html">dart:isolate</a></span>
              </dt>
              <dd>
                Concurrent programming using <em>isolates</em>:
independent workers that are similar to threads
but don't share memory,
communicating only via messages. <a href="dart-isolate/dart-isolate-library.html">[...]</a>
              </dd>          </dl>
        </section>

  </div> <!-- /.main-content -->

</main>

<footer>
  <span class="no-break">
    flame 0.8.4
  </span>

</footer>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<script src="static-assets/typeahead.bundle.min.js"></script>
<script src="static-assets/highlight.pack.js"></script>
<script src="static-assets/URI.js"></script>
<script src="static-assets/script.js"></script>


</body>

</html>
